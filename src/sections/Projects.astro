---
import Card from '@/components/Card.astro'
import projectOne from '@/images/project-1.png'
import projectTwo from '@/images/project-2.webp'
import projectThree from '@/images/project-3.png'
import projectFour from '@/images/project-4.png'

import laPosteLogo from '/mnt/data/la-poste-logo.png'
import mcdonaldsLogo from '/mnt/data/mcdonalds-logo-m.png'
import evnhLogo from '/mnt/data/evnh.png'

---

<section
  data-projects
  class="flex flex-col gap-10 lg:gap-10 py-32 lg:pb-60 2xl:py-35 px-8  overflow-clip"
>
  <h2
    class="w-full max-w-2xl mx-auto text-dark-blue text-3xl lg:text-4xl 2xl:text-5xl text-center font-semibold"
  >
    Compétences professionnelles
  </h2>

  <div data-projects-wrapper class="w-full max-w-2xl mx-auto text-center">
    <ul data-projects-list class="flex gap-8 lg:gap-16 w-max">
      <li>
        <Card
          image={projectOne}
          title="Gestion"
          description="Diplomé en Comptabilité et possédant un titre professionnel de Gestionnaire Paie. J'ai occupé durant ma carrière, les postes de Comptable, Trésorier et Gestionnaire Paie et Social."
        />
      </li>
      <li>
        <Card
          image={projectTwo}
          title="Transport"
          description="Justifiant de la capacité de transport, avec une solide expérience dans le secteur, j'ai développé une expertise dans la gestion des flux de marchandises et l'optimisation des itinéraires."
        />
      </li>
      <li>
        <Card
          image={projectThree}
          title="Logistique"
          description="Fort de mon expérience en logistique, j'ai su gérer des chaînes d'approvisionnement complexes et j'ai également supervisé des opérations de distribution et de stockage."
         />
      </li>
      <li>
        <Card
          image={projectFour}
          title="Informatique"
          description="En tant que Développeur Web Full Stack, j'ai acquis une expérience en développement d'applications web et en intégration de solutions informatiques. www.gtlservices.fr"
          link="https://www.gtlservices.fr/"
        />
      </li>
    </ul>
  </div>
</section>
<section>
  <h2
    class="w-full max-w-2xl mx-auto text-dark-blue text-3xl lg:text-4xl 2xl:text-5xl text-center font-semibold"
  >
    Employeurs
  </h2>
<div class="w-full max-w-2xl mx-auto">
<ul data-projects-list class="flex gap-10 pt-10 pb-10 lg:pb-40 2xl:py-30">
    <li>
    <img src="src/images/mcdonalds-logo-m.png" alt="McDonalds logo" class="logo">
    </li>
    <li>  
    <img src="src/images/la-poste-logo.png" alt="La Poste logo" class="logo">
    </li>
    <li> 
    <img src="src/images/evnh.png" alt="Evnh logo" class="logo">
    </li>
    <li> 
    <img src="src/images/total-logo.png" alt="Total logo" class="logo">
    </li>
    <li> 
    <img src="src/images/logo-veolia.png" alt="veolia logo" class="logo">
    </li>
    <li> 
    <img src="src/images/Logo_PlateformeBatiment.png" alt="plateforme logo" class="logo pt-5">
    </li>
    <li> 
    <img src="src/images/hachette-logo.png" alt="hachette logo" class="logo">
    </li>
    <li> 
    <img src="src/images/hilti-logo.png" alt="hilti logo" class="logo pt-5">
    </li>
</ul>
</div>
</section>

<script>
  import { gsap } from 'gsap'
  import { ScrollTrigger } from 'gsap/ScrollTrigger'
  import { DOMLoaded } from '@/ts/events'

  DOMLoaded(() => {
    gsap.registerPlugin(ScrollTrigger)
    const projects = document.querySelector('[data-projects]') as HTMLElement
    const projectsWrapper = projects.querySelector(
      '[data-projects-wrapper]'
    ) as HTMLElement
    const projectsList = projects.querySelector(
      '[data-projects-list]'
    ) as HTMLElement
    const width = projectsList.clientWidth - projectsWrapper.clientWidth
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: projects,
        start: 'top top',
        end: 'bottom top',
        scrub: true,
        pin: true,
      },
    })

    tl.fromTo(projectsList, { x: 0 }, { x: -width, duration: 1 })
  })
</script>

